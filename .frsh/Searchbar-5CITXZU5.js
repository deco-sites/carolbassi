import{a as F}from"./chunk-76U7P5A2.js";import{a as h}from"./chunk-MWXQMU46.js";import{a as V}from"./chunk-W7P36DV5.js";import{a as z}from"./chunk-EG2XZEKQ.js";import{a as b}from"./chunk-2EII6G2X.js";import{a as v}from"./chunk-C35ITEQR.js";import{a as $,b as k}from"./chunk-JP6MBRPN.js";import{b as C}from"./chunk-DQXTXKTS.js";import{a as A}from"./chunk-AK4CW2VE.js";import{a as R}from"./chunk-VB2RIGU6.js";import{a as E}from"./chunk-CWWC2ZZK.js";import"./chunk-ZW2F42CV.js";import"./chunk-OUDJ3N7I.js";import{a as g}from"./chunk-FFVHBWQO.js";import{a as O}from"./chunk-6TYW3VO2.js";import"./chunk-U37GBM4D.js";import"./chunk-LZXS3K3K.js";import{a as f}from"./chunk-SZB65BFH.js";import{a as I,b as D,g as e}from"./chunk-QSF6UWS7.js";import"./chunk-CRNLDV6W.js";import{c as T}from"./chunk-GGCEL3NW.js";var M=(r,o)=>o.priceComponentType!=="https://schema.org/Installment"?r:!r||r.price>o.price?o:r.price<o.price?r:r.billingDuration&&o.billingDuration&&r.billingDuration<o.billingDuration?o:r,X=(r,o)=>{let{billingDuration:n,billingIncrement:s,price:t}=r;if(!n||!s)return"";let i=o<t;return`${n}x de R$ ${s} ${i?"com juros":"sem juros"}`},N=r=>{let o=r?.offers[0],n=o?.priceSpecification.find(l=>l.priceType==="https://schema.org/ListPrice"),s=o?.priceSpecification.reduce(M,null),t=o?.seller,i=o?.price,a=o?.availability;return{price:i,listPrice:n?.price,availability:a,seller:t,installments:s&&i?X(s,i):null}};var U=({url:r,isVariantOf:o})=>(o?.hasVariant??[]).flatMap(({additionalProperty:t=[],url:i})=>t.map(a=>({property:a,url:i}))).filter(t=>t.url).filter(t=>t.property.valueReference==="SPECIFICATION").sort((t,i)=>t.url<i.url?-1:t.url===i.url?0:1).reduce((t,{property:i,url:a})=>{let{name:l="",value:u=""}=i;return t[l]||(t[l]={}),t[l][u]||(t[l][u]=[]),a&&(a===r?t[l][u].unshift(a):t[l][u].push(a)),t},{});var J=r=>{let o=new URL(r);return`${o.pathname}${o.search}`},x=200,y=279;function K({product:r,preload:o,itemListName:n}){let{url:s,productID:t,name:i,image:a,offers:l,isVariantOf:u}=r,m=u?.productGroupID,[d,c]=a??[],{listPrice:p,price:P}=N(l),H=U(r),W=Object.entries(Object.values(H)[0]??{}),G={name:"select_item",params:{item_list_name:n,items:[C({product:r,price:P,listPrice:p})]}};return e("div",{class:"card card-compact card-bordered border-transparent hover:border-base-200 group w-full","data-deco":"view-product",id:`product-card-${t}`,...k(G),children:[e("figure",{class:"relative ",style:{aspectRatio:`${x} / ${y}`},children:[e("div",{class:"absolute top-0 right-0 z-10",children:e(V,{productGroupID:m,productID:t})}),e("a",{href:s&&J(s),"aria-label":"view product",class:"contents",children:[e(v,{src:d.url,alt:d.alternateName,width:x,height:y,class:"absolute transition-opacity rounded w-full opacity-100 group-hover:opacity-0",sizes:"(max-width: 640px) 50vw, 20vw",preload:o,loading:o?"eager":"lazy",decoding:"async"}),e(v,{src:c?.url??d.url,alt:c?.alternateName??d.alternateName,width:x,height:y,class:"absolute transition-opacity rounded w-full opacity-0 group-hover:opacity-100",sizes:"(max-width: 640px) 50vw, 20vw",loading:"lazy",decoding:"async"})]}),e("figcaption",{class:"glass card-body card-actions absolute bottom-0 left-0 w-full transition-opacity opacity-0 group-hover:opacity-100",children:e("ul",{class:"flex justify-center items-center gap-2 w-full",children:W.map(([L,[S]])=>e("a",{href:S,children:e(F,{variant:S===s?"active":"default",content:L})}))})})]}),e("div",{class:"card-body",children:[e("h2",{class:"card-title whitespace-nowrap overflow-hidden",children:i}),e("div",{class:"flex items-end gap-2",children:[e("span",{class:"line-through text-base-300 text-xs",children:h(p,l.priceCurrency)}),e("span",{class:"text-secondary",children:h(P,l.priceCurrency)})]})]})]})}var _=K;function j(r,o){let n=null,s=null,t=(...i)=>{t.clear(),s=()=>{t.clear(),r.call(t,...i)},n=setTimeout(s,o)};return t.clear=()=>{typeof n=="number"&&(clearTimeout(n),n=null,s=null)},t.flush=()=>{s?.()},Object.defineProperty(t,"pending",{get:()=>typeof n=="number"}),t}var q=f(null),w=f(!1),Q=A.create("deco-sites/std/loaders/vtex/intelligentSearch/suggestions.ts"),Y=j(async r=>{try{q.value=await Q({query:r,count:4})}catch(o){console.error(`Something went wrong while fetching suggestions 
`,o)}finally{w.value=!1}},250),Z={setSearch:r=>{w.value=!0,Y(r)},loading:w,suggestions:q},B=()=>Z;function ee(){let{displaySearchbar:r}=O();return e(E,{class:"btn-ghost btn-circle lg:hidden",onClick:()=>r.value=!1,children:e(R,{id:"XMark",width:20,height:20,strokeWidth:2})})}function te({placeholder:r="What are you looking for?",action:o="/s",name:n="q",query:s}){let t=D(null),{setSearch:i,suggestions:a,loading:l}=B(),u=!!a.value?.products?.length,m=!!a.value?.searches?.length,d=!u&&!m;return I(()=>{t.current&&t.current.focus()},[]),e("div",{class:"flex flex-col",children:[e("div",{class:"flex items-center gap-4",children:[e(ee,{}),e("form",{id:"searchbar",action:o,class:"flex-grow flex gap-3",children:e("input",{ref:t,id:"search-input",class:"flex-grow outline-none placeholder-shown:sibling:hidden bg-transparent text-secondary-content placeholder:text-primary",name:n,defaultValue:s,onInput:c=>{let p=c.currentTarget.value;p&&$({name:"search",params:{search_term:p}}),i(p)},placeholder:r,role:"combobox","aria-controls":"search-suggestion",autocomplete:"off"})})]}),e("div",{style:{marginTop:z},class:"absolute right-0 top-0 z-50 bg-base-100 flex flex-col gap-6 divide-y divide-base-200 mt-6 p-5 lg:w-[508px] empty:mt-0 md:divide-y-0",children:d?e("div",{class:"py-16 md:py-6! flex flex-col gap-4 w-full",children:[e("span",{class:"font-medium text-xl text-center",role:"heading","aria-level":3,children:"Nenhum resultado encontrado"}),e("span",{class:"text-center text-base-300",children:"Vamos tentar de outro jeito? Verifique a ortografia ou use um termo diferente"})]}):e(T,{children:[e("div",{class:"flex flex-col gap-6 md:w-[15.25rem] md:max-w-[15.25rem]\\",children:[e("div",{class:"flex gap-2 items-center",children:[e("span",{class:"font-medium text-xl",role:"heading","aria-level":3,children:"Sugest\xF5es"}),l.value&&e(g,{})]}),e("ul",{id:"search-suggestion",class:"flex flex-col pl-5",children:a.value.searches?.map(({term:c})=>e("li",{class:"list-disc list-outside marker:text-info",children:e("a",{href:`/s?q=${c}`,class:"text-base",children:e("span",{children:c})})}))})]}),e("div",{class:"flex flex-col pt-6 md:pt-0 gap-6 overflow-x-hidden",children:[e("div",{class:"flex gap-2 items-center",children:[e("span",{class:"font-medium text-xl",role:"heading","aria-level":3,children:"Produtos sugeridos"}),l.value&&e(g,{})]}),e(b,{class:"carousel",children:a.value.products?.map((c,p)=>e(b.Item,{index:p,class:"carousel-item first:ml-4 last:mr-4 min-w-[200px] max-w-[200px]",children:e(_,{product:c})}))})]})]})})]})}var Ce=te;export{Ce as default};
